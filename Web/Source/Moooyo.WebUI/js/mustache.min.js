/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var Mustache=typeof module!="undefined"&&module.exports||{};(function(e){function x(e){return S.test(e)}function L(e){return String(e)[o](/&(?!\w+;)|[<>"']/g,function(e){return k[e]||e})}function A(e,t,n,r){r=r||"<template>";var s=t.split(u),o=Math.max(n-3,0),f=Math.min(s[i],n+3),l=s.slice(o,f),c;for(var h=0,p=l[i];h<p;++h)c=h+o+1,l[h]=(c===n?" >> ":"    ")+l[h];return e.template=t,e.line=n,e[a]=r,e.message=[r+":"+n,l.join(u),"",e.message].join(u),e}function O(e,n,o){if(e===".")return n[n[i]-1];var u=e.split("."),a=u[i]-1,c=u[a],h,p,d=n[i],v,m;while(d){m=n.slice(0),p=n[--d],v=0;while(v<a){p=p[u[v++]];if(p==s)break;m[f](p)}if(p&&typeof p===l&&c in p){h=p[c];break}}return typeof h===t&&(h=h[r](m[m[i]-1])),h==s?o:h}function M(e,n,o,u){var a="",h=O(e,n);if(u){if(h==s||h===c||w(h)&&h[i]===0)a+=o()}else if(w(h))E(h,function(e){n[f](e),a+=o(),n.pop()});else if(typeof h===l)n[f](h),a+=o(),n.pop();else if(typeof h===t){var p=n[n[i]-1],d=function(e){return j(e,p)};a+=h[r](p,o(),d)||""}else h&&(a+=o());return a}function _(n,r){r=r||{};var l=r.tags||e.tags,m=l[0],g=l[l[i]-1],y=['var buffer = "";',"\nvar line = 1;","\ntry {",h],b=[],w=c,E=c,S=function(){if(w&&!E&&!r.space)while(b[i])y.splice(b.pop(),1);else b=[];w=c,E=c},N=[],C,k,L,O=function(e){l=T(e).split(/\s+/),k=l[0],L=l[l[i]-1]},M=function(e){y[f](p,C,'\nvar partial = partials["'+T(e)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",h)},_=function(e,t){var i=T(e);if(i==="")throw A(new Error("Section name may not be empty"),n,j,r[a]);N[f]({name:i,inverted:t}),y[f](p,C,'\nvar name = "'+i+p,"\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";',h)},D=function(e){_(e,d)},P=function(e){var t=T(e),s=N[i]!=0&&N[N[i]-1].name;if(!s||t!=s)throw A(new Error('Section named "'+t+'" was never opened'),n,j,r[a]);var o=N.pop();y[f](p,"\n    return buffer;","\n  };","\n})();"),o.inverted?y[f]("\nbuffer += renderSection(name,stack,callback,true);"):y[f]("\nbuffer += renderSection(name,stack,callback);"),y[f](h)},H=function(e){y[f](p,C,'\nbuffer += lookup("'+T(e)+'",stack,"");',h)},B=function(e){y[f](p,C,'\nbuffer += escapeHTML(lookup("'+T(e)+'",stack,""));',h)},j=1,F,I;for(var q=0,R=n[i];q<R;++q)if(n.slice(q,q+m[i])===m){q+=m[i],F=n.substr(q,1),C="\nline = "+j+";",k=m,L=g,w=d;switch(F){case"!":q++,I=s;break;case"=":q++,g="="+g,I=O;break;case">":q++,I=M;break;case"#":q++,I=_;break;case"^":q++,I=D;break;case"/":q++,I=P;break;case"{":g="}"+g;case"&":q++,E=d,I=H;break;default:E=d,I=B}var U=n.indexOf(g,q);if(U===-1)throw A(new Error('Tag "'+m+v),n,j,r[a]);var z=n.substring(q,U);I&&I(z);var W=0;while(~(W=z.indexOf(u,W)))j++,W++;q=U+g[i]-1,m=k,g=L}else{F=n.substr(q,1);switch(F){case'"':case"\\":E=d,y[f]("\\"+F);break;case"\r":break;case u:b[f](y[i]),y[f]("\\n"),S(),j++;break;default:x(F)?b[f](y[i]):E=d,y[f](F)}}if(N[i]!=0)throw A(new Error('Section "'+N[N[i]-1].name+v),n,j,r[a]);S(),y[f](p,"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }");var X=y.join("")[o](/buffer \+= "";\n/g,"");return r.debug&&(typeof console!="undefined"&&console.log?console.log(X):typeof print===t&&print(X)),X}function D(e,t){var n="view,partials,stack,lookup,escapeHTML,renderSection,render",r=_(e,t),i=new Function(n,r);return function(n,r){r=r||{};var s=[n];try{return i(n,r,s,O,L,M,j)}catch(o){throw A(o.error,e,o.line,t[a])}}}function H(){P={}}function B(e,t){return t=t||{},t.cache!==c?(P[e]||(P[e]=D(e,t)),P[e]):D(e,t)}function j(e,t,n){return B(e)(t,n)}var t="function",n="prototype",r="call",i="length",s=null,o="replace",u="\n",a="file",f="push",l="object",c=!1,h='\nbuffer += "',p='";',d=!0,v='" was not closed properly';e.name="mustache.js",e.version="0.5.0-dev",e.tags=["{{","}}"],e.parse=_,e.compile=B,e.render=j,e.clearCache=H,e.to_html=function(e,n,r,i){var s=j(e,n,r);if(typeof i!==t)return s;i(s)};var m=Object[n].toString,g=Array.isArray,y=Array[n].forEach,b=String[n].trim,w;g?w=g:w=function(e){return m[r](e)==="[object Array]"};var E;y?E=function(e,t,n){return y[r](e,t,n)}:E=function(e,t,n){for(var s=0,o=e[i];s<o;++s)t[r](n,e[s],s,e)};var S=/^\s*$/,T;if(b)T=function(e){return e==s?"":b[r](e)};else{var N,C;x("Â ")?(N=/^\s+/,C=/\s+$/):(N=/^[\s\xA0]+/,C=/[\s\xA0]+$/),T=function(e){return e==s?"":String(e)[o](N,"")[o](C,"")}}var k={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},P={}})(Mustache);